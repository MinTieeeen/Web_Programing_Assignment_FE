<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../assets/css/admin-dashboard.css" rel="stylesheet">
</head>
<body>
    <!-- Sidebar Container -->
    <div id="sidebarContainer">
        <!-- Sidebar will be loaded here -->
    </div>

    <!-- Main Content -->
    <div class="main-content" id="main-content">
        <!-- Navbar Container -->
        <div id="navbarContainer">
            <!-- Navbar will be loaded here -->
        </div>

        <!-- Page Content -->
        <div class="container-fluid p-4">
            <!-- Page Header -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>System Settings</h2>
                <button class="btn btn-success" onclick="saveAllSettings()">
                    <i class="bi bi-check-circle"></i> Save All Settings
                </button>
            </div>

            <!-- Settings Tabs -->
            <ul class="nav nav-tabs mb-4" id="settingsTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab">
                        <i class="bi bi-gear"></i> General
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="payment-tab" data-bs-toggle="tab" data-bs-target="#payment" type="button" role="tab">
                        <i class="bi bi-credit-card"></i> Payment
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button" role="tab">
                        <i class="bi bi-envelope"></i> Email
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab">
                        <i class="bi bi-shield-check"></i> Security
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="maintenance-tab" data-bs-toggle="tab" data-bs-target="#maintenance" type="button" role="tab">
                        <i class="bi bi-tools"></i> Maintenance
                    </button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="settingsTabContent">
                <!-- General Settings -->
                <div class="tab-pane fade show active" id="general" role="tabpanel">
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 class="mb-0">General Settings</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="siteName" class="form-label">Site Name</label>
                                        <input type="text" class="form-control" id="siteName" value="Game Store Admin">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="siteUrl" class="form-label">Site URL</label>
                                        <input type="url" class="form-control" id="siteUrl" value="https://gamestore.com">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="siteDescription" class="form-label">Site Description</label>
                                <textarea class="form-control" id="siteDescription" rows="3">The ultimate gaming platform for all your gaming needs.</textarea>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="timezone" class="form-label">Timezone</label>
                                        <select class="form-select" id="timezone">
                                            <option value="UTC">UTC</option>
                                            <option value="America/New_York">Eastern Time</option>
                                            <option value="America/Los_Angeles">Pacific Time</option>
                                            <option value="Europe/London">London</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="currency" class="form-label">Default Currency</label>
                                        <select class="form-select" id="currency">
                                            <option value="USD">USD ($)</option>
                                            <option value="EUR">EUR (€)</option>
                                            <option value="GBP">GBP (£)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="maintenanceMode">
                                <label class="form-check-label" for="maintenanceMode">
                                    Enable Maintenance Mode
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Settings -->
                <div class="tab-pane fade" id="payment" role="tabpanel">
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 class="mb-0">Payment Settings</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>PayPal Settings</h6>
                                    <div class="mb-3">
                                        <label for="paypalClientId" class="form-label">PayPal Client ID</label>
                                        <input type="text" class="form-control" id="paypalClientId">
                                    </div>
                                    <div class="mb-3">
                                        <label for="paypalSecret" class="form-label">PayPal Secret</label>
                                        <input type="password" class="form-control" id="paypalSecret">
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="paypalEnabled">
                                        <label class="form-check-label" for="paypalEnabled">
                                            Enable PayPal
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Stripe Settings</h6>
                                    <div class="mb-3">
                                        <label for="stripePublicKey" class="form-label">Stripe Public Key</label>
                                        <input type="text" class="form-control" id="stripePublicKey">
                                    </div>
                                    <div class="mb-3">
                                        <label for="stripeSecretKey" class="form-label">Stripe Secret Key</label>
                                        <input type="password" class="form-control" id="stripeSecretKey">
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="stripeEnabled">
                                        <label class="form-check-label" for="stripeEnabled">
                                            Enable Stripe
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="taxRate" class="form-label">Tax Rate (%)</label>
                                        <input type="number" class="form-control" id="taxRate" step="0.01" value="8.25">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="commissionRate" class="form-label">Platform Commission (%)</label>
                                        <input type="number" class="form-control" id="commissionRate" step="0.01" value="30">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email Settings -->
                <div class="tab-pane fade" id="email" role="tabpanel">
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 class="mb-0">Email Settings</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="smtpHost" class="form-label">SMTP Host</label>
                                        <input type="text" class="form-control" id="smtpHost">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="smtpPort" class="form-label">SMTP Port</label>
                                        <input type="number" class="form-control" id="smtpPort" value="587">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="smtpEncryption" class="form-label">Encryption</label>
                                        <select class="form-select" id="smtpEncryption">
                                            <option value="tls">TLS</option>
                                            <option value="ssl">SSL</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="smtpUsername" class="form-label">SMTP Username</label>
                                        <input type="text" class="form-control" id="smtpUsername">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="smtpPassword" class="form-label">SMTP Password</label>
                                        <input type="password" class="form-control" id="smtpPassword">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="fromEmail" class="form-label">From Email</label>
                                        <input type="email" class="form-control" id="fromEmail">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="fromName" class="form-label">From Name</label>
                                        <input type="text" class="form-control" id="fromName">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <button class="btn btn-outline-primary" onclick="testEmail()">
                                    <i class="bi bi-envelope-check"></i> Send Test Email
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Settings -->
                <div class="tab-pane fade" id="security" role="tabpanel">
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 class="mb-0">Security Settings</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="sessionTimeout" class="form-label">Session Timeout (minutes)</label>
                                        <input type="number" class="form-control" id="sessionTimeout" value="30">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="maxLoginAttempts" class="form-label">Max Login Attempts</label>
                                        <input type="number" class="form-control" id="maxLoginAttempts" value="5">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="passwordMinLength" class="form-label">Min Password Length</label>
                                        <input type="number" class="form-control" id="passwordMinLength" value="8">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="lockoutDuration" class="form-label">Lockout Duration (minutes)</label>
                                        <input type="number" class="form-control" id="lockoutDuration" value="15">
                                    </div>
                                </div>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="requireStrongPassword" checked>
                                <label class="form-check-label" for="requireStrongPassword">
                                    Require Strong Passwords
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="enableTwoFactor">
                                <label class="form-check-label" for="enableTwoFactor">
                                    Enable Two-Factor Authentication
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="enableRecaptcha">
                                <label class="form-check-label" for="enableRecaptcha">
                                    Enable reCAPTCHA
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Maintenance -->
                <div class="tab-pane fade" id="maintenance" role="tabpanel">
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 class="mb-0">System Maintenance</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-warning">
                                        <div class="card-header bg-warning text-dark">
                                            <h6 class="mb-0">Database Maintenance</h6>
                                        </div>
                                        <div class="card-body">
                                            <p>Clean up old logs and optimize database performance.</p>
                                            <button class="btn btn-warning" onclick="cleanDatabase()">
                                                <i class="bi bi-database-gear"></i> Clean Database
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-info">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0">Cache Management</h6>
                                        </div>
                                        <div class="card-body">
                                            <p>Clear application cache to improve performance.</p>
                                            <button class="btn btn-info" onclick="clearCache()">
                                                <i class="bi bi-arrow-clockwise"></i> Clear Cache
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="card border-success">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0">Backup Database</h6>
                                        </div>
                                        <div class="card-body">
                                            <p>Create a backup of the current database.</p>
                                            <button class="btn btn-success" onclick="backupDatabase()">
                                                <i class="bi bi-download"></i> Backup Now
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-danger">
                                        <div class="card-header bg-danger text-white">
                                            <h6 class="mb-0">System Reset</h6>
                                        </div>
                                        <div class="card-body">
                                            <p>Reset system to default settings (Dangerous!).</p>
                                            <button class="btn btn-danger" onclick="systemReset()">
                                                <i class="bi bi-exclamation-triangle"></i> Reset System
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/admin/utils.js"></script>
    <script src="../assets/js/admin/components.js"></script>
    <script src="../assets/js/admin-settings.js"></script>
    <script>
        // Initialize admin components
        document.addEventListener('DOMContentLoaded', function() {
            AdminComponents.init('settings');
        });
    </script>
</body>
</html>

